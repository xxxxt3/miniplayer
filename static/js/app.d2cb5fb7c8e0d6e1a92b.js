webpackJsonp([0],{"+fWQ":function(t,e,s){t.exports=s.p+"static/img/HOME SWEET HOME.72fd3bc.png"},"4r/1":function(t,e,s){t.exports=s.p+"static/media/TAKEME.402c293.mp3"},A4Dj:function(t,e,s){t.exports=s.p+"static/img/DRAMA.c8f092f.png"},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),i={data:function(){return{isPlaying:!1,progress:0,currentTime:0,duration:0,volume:80,repeatMode:"none",isPlaylistOpen:!1,playlist:[{title:"HOME SWEET HOME",artist:"G-DRAGON",src:s("skxb"),cover:s("+fWQ")},{title:"POWER",artist:"G-DRAGON",src:s("sUGA"),cover:s("l0KZ")},{title:"TAKE ME",artist:"G-DRAGON",src:s("4r/1"),cover:s("qh/p")},{title:"DRAMA",artist:"G-DRAGON",src:s("f7wp"),cover:s("A4Dj")},{title:"Work",artist:"Rihanna",src:s("OZCY"),cover:s("unF/")},{title:"Call It What You Want",artist:"Taylor Swift",src:s("rQAr"),cover:s("xkAL")}],currentTrackIndex:0}},computed:{currentTrack:function(){return this.playlist[this.currentTrackIndex]}},methods:{togglePlay:function(){var t=this.$refs.audio;this.isPlaying?t.pause():t.play().catch(function(t){console.error("播放失败:",t)}),this.isPlaying=!this.isPlaying},updateProgress:function(){var t=this.$refs.audio;this.currentTime=t.currentTime,this.progress=t.currentTime/t.duration*100},setProgress:function(t){var e=this.$refs.audio,s=t.currentTarget.getBoundingClientRect(),a=(t.clientX-s.left)/s.width*100;this.progress=a,e.currentTime=a/100*e.duration},handleEnd:function(){"one"===this.repeatMode?(this.$refs.audio.currentTime=0,this.$refs.audio.play().catch(function(t){return console.error("播放失败:",t)})):(this.nextTrack(),"all"!==this.repeatMode&&0===this.currentTrackIndex&&(this.isPlaying=!1))},formatTime:function(t){if(isNaN(t))return"00:00";var e=Math.floor(t/60),s=Math.floor(t%60);return e.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")},setVolume:function(){this.$refs.audio.volume=this.volume/100},increaseVolume:function(){this.volume=Math.min(this.volume+5,100),this.setVolume()},decreaseVolume:function(){this.volume=Math.max(this.volume-5,0),this.setVolume()},getVolumeIcon:function(){return 0===this.volume?"🔇":this.volume<50?"🔉":"🔊"},getRepeatTitle:function(){return"none"===this.repeatMode?"不循环":"all"===this.repeatMode?"列表循环":"单曲循环"},toggleRepeat:function(){var t=["none","all","one"],e=t.indexOf(this.repeatMode);this.repeatMode=t[(e+1)%t.length]},prevTrack:function(){var t=this.$refs.audio,e=this.isPlaying;t.pause(),this.currentTrackIndex=(this.currentTrackIndex-1+this.playlist.length)%this.playlist.length,this.loadAndPlay(e)},nextTrack:function(){var t=this.$refs.audio,e=this.isPlaying;t.pause(),this.currentTrackIndex=(this.currentTrackIndex+1)%this.playlist.length,this.loadAndPlay(e)},playTrack:function(t){this.$refs.audio.pause(),this.currentTrackIndex=t,this.loadAndPlay(!0),this.isPlaylistOpen=!1},loadAndPlay:function(t){var e=this.$refs.audio;e.removeEventListener("canplaythrough",this.handleReady),this._shouldPlay=t,e.addEventListener("canplaythrough",this.handleReady),e.src=this.currentTrack.src,e.load()},handleReady:function(){var t=this,e=this.$refs.audio;this._shouldPlay?(e.play().catch(function(e){console.error("播放失败:",e),t.isPlaying=!1}),this.isPlaying=!0):this.isPlaying=!1,this._shouldPlay=null},onLoadedMetadata:function(){this.duration=this.$refs.audio.duration},togglePlaylist:function(){this.isPlaylistOpen=!this.isPlaylistOpen}},mounted:function(){var t=this;this.handleReady=this.handleReady.bind(this),document.addEventListener("keydown",function(e){if("INPUT"!==e.target.tagName)switch(e.key){case" ":t.togglePlay(),e.preventDefault();break;case"ArrowRight":t.nextTrack();break;case"ArrowLeft":t.prevTrack();break;case"ArrowUp":t.increaseVolume(),e.preventDefault();break;case"ArrowDown":t.decreaseVolume(),e.preventDefault();break;case"l":t.togglePlaylist()}})},beforeUnmount:function(){this.$refs.audio.removeEventListener("canplaythrough",this.handleReady)}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"audio-player-container"},[s("div",{staticClass:"player-card"},[t._m(0),t._v(" "),s("div",{staticClass:"album-cover-container"},[s("div",{staticClass:"vinyl-spin",class:{playing:t.isPlaying}},[s("img",{staticClass:"album-art",attrs:{src:t.currentTrack.cover,alt:"专辑封面"}}),t._v(" "),s("div",{staticClass:"vinyl-center"}),t._v(" "),s("div",{staticClass:"vinyl-lines"})])]),t._v(" "),s("div",{staticClass:"song-info"},[s("h1",{staticClass:"song-title"},[t._v(t._s(t.currentTrack.title))]),t._v(" "),s("p",{staticClass:"song-artist"},[t._v(t._s(t.currentTrack.artist))])]),t._v(" "),s("div",{staticClass:"progress-container"},[s("span",{staticClass:"time current-time"},[t._v(t._s(t.formatTime(t.currentTime)))]),t._v(" "),s("div",{staticClass:"progress-bar",on:{click:function(e){return t.setProgress(e)}}},[s("div",{staticClass:"progress-fill",style:{width:t.progress+"%"}},[s("div",{staticClass:"progress-handle",style:{left:t.progress+"%"}})])]),t._v(" "),s("span",{staticClass:"time duration"},[t._v(t._s(t.formatTime(t.duration)))])]),t._v(" "),s("div",{staticClass:"controls"},[s("button",{staticClass:"control-btn playlist-btn",attrs:{title:"播放列表"},on:{click:t.togglePlaylist}},[t._v("\n        ☰\n      ")]),t._v(" "),s("button",{staticClass:"control-btn prev-btn",attrs:{title:"上一首"},on:{click:t.prevTrack}},[t._v("\n        ⏮\n      ")]),t._v(" "),s("button",{staticClass:"control-btn play-btn",attrs:{title:"播放/暂停"},on:{click:t.togglePlay}},[t._v("\n        "+t._s(t.isPlaying?"⏸":"▶")+"\n      ")]),t._v(" "),s("button",{staticClass:"control-btn next-btn",attrs:{title:"下一首"},on:{click:t.nextTrack}},[t._v("\n        ⏭\n      ")]),t._v(" "),s("button",{staticClass:"control-btn repeat-btn",attrs:{title:t.getRepeatTitle()},on:{click:t.toggleRepeat}},[t._v("\n        "+t._s("none"===t.repeatMode?"↺":"all"===t.repeatMode?"↻":"1↻")+"\n      ")])]),t._v(" "),s("div",{staticClass:"volume-control"},[s("span",[t._v(t._s(t.getVolumeIcon()))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.volume,expression:"volume"}],staticClass:"volume-slider",attrs:{type:"range",min:"0",max:"100",title:"音量调节"},domProps:{value:t.volume},on:{input:t.setVolume,__r:function(e){t.volume=e.target.value}}})]),t._v(" "),s("div",{staticClass:"playlist-container",class:{open:t.isPlaylistOpen}},[s("div",{staticClass:"playlist-header"},[s("h3",[t._v("播放列表")]),t._v(" "),s("button",{staticClass:"close-btn",attrs:{title:"关闭"},on:{click:t.togglePlaylist}},[t._v("\n          ✕\n        ")])]),t._v(" "),s("ul",{staticClass:"playlist-list"},t._l(t.playlist,function(e,a){return s("li",{key:a,class:{active:a===t.currentTrackIndex},on:{click:function(e){return t.playTrack(a)}}},[s("span",{staticClass:"track-number"},[t._v(t._s(a+1))]),t._v(" "),s("div",{staticClass:"track-info"},[s("span",{staticClass:"track-title"},[t._v(t._s(e.title))]),t._v(" "),s("span",{staticClass:"track-artist"},[t._v(t._s(e.artist))])]),t._v(" "),s("span",{staticClass:"track-play-icon"},[t._v(t._s(a===t.currentTrackIndex&&t.isPlaying?"⏸":"▶"))])])}),0)])]),t._v(" "),s("audio",{ref:"audio",attrs:{src:t.currentTrack.src,volume:t.volume/100},on:{timeupdate:t.updateProgress,ended:t.handleEnd,loadedmetadata:t.onLoadedMetadata}},[t._v("\n    您的浏览器不支持音频播放\n  ")])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"player-header"},[e("div",{staticClass:"header-glow"})])}]};var r=s("VU/8")(i,n,!1,function(t){s("ceOd")},"data-v-7064c3e4",null).exports;new a.a({render:function(t){return t(r)}}).$mount("#app")},OZCY:function(t,e,s){t.exports=s.p+"static/media/Work.af0d7c0.mp3"},ceOd:function(t,e){},f7wp:function(t,e,s){t.exports=s.p+"static/media/DRAMA.dd7359a.mp3"},l0KZ:function(t,e,s){t.exports=s.p+"static/img/POWER.b19ea69.png"},"qh/p":function(t,e,s){t.exports=s.p+"static/img/TAKEME.c8f092f.png"},rQAr:function(t,e,s){t.exports=s.p+"static/media/Call It What You Want.e50c5c5.mp3"},sUGA:function(t,e,s){t.exports=s.p+"static/media/POWER.8a42e1d.mp3"},skxb:function(t,e,s){t.exports=s.p+"static/media/HOME SWEET HOME.0e77cae.mp3"},"unF/":function(t,e,s){t.exports=s.p+"static/img/Work.1fee284.png"},xkAL:function(t,e,s){t.exports=s.p+"static/img/Call It What You Want.c65a624.png"}},["NHnr"]);
//# sourceMappingURL=app.d2cb5fb7c8e0d6e1a92b.js.map